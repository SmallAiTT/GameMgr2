var ttUtils = {};
ttUtils.transReq = function(req, doClass, isInit){
    var obj = new doClass();
    var body = req.body;
    for (var key in obj) {
        obj[key] = body[key] || (isInit ? obj[key] : null);
    }
    return obj
};

ttUtils.createPoByCtrl = function(req, res, dao, PoClass){
    var po = ttUtils.transReq(req, PoClass);
    dao.create(PoClass, po, function(err, result){
        err ? ttUtils.doErr(res, err) : ttUtils.doInfo(res);
    });
}

var ttMsg = require("./msg/ttMsg");
ttUtils.doInfo = ttMsg.doInfo;
ttUtils.doWarn = ttMsg.doWarn;
ttUtils.doErr = ttMsg.doErr;
ttUtils.doQuest = ttMsg.doQuest;


module.exports = ttUtils;